<nav class="navbar-container" *ngIf="isAuthenticated$ | async">
  <div class="navbar-content">
    <!-- Logo & Brand -->
    <div class="navbar-brand">
      <a routerLink="/" class="brand-link">
        <div class="logo-icon">
          <i class="fas fa-bread-slice"></i>
        </div>
        <span class="brand-text">Boulangerie</span>
      </a>
    </div>

    <!-- Menu Desktop -->
    <div class="navbar-menu" [class.active]="isMenuOpen">
      <!-- Menu Public -->
      <div class="menu-section">
        <a routerLink="/produits" 
           routerLinkActive="active" 
           class="nav-link">
          <i class="fas fa-cookie-bite"></i>
          <span>Nos Produits</span>
        </a>
      </div>

      <div class="menu-section" *ngIf="isAuthenticated$ | async">
       
        <a routerLink="/mes-commandes" 
           routerLinkActive="active" 
           class="nav-link">
          <i class="fas fa-shopping-bag"></i>
          <span>Mes Commandes</span>
        </a>
        
        <a routerLink="/panier" 
           routerLinkActive="active" 
           class="nav-link">
          <i class="fas fa-shopping-cart"></i>
          <span>Panier</span>
        </a>
        
        
      </div>

      <!-- Menu Admin -->
      <div class="menu-section admin-section">
        <div class="dropdown-container">
          
          <div class="dropdown-menu" [class.show]="isDropdownOpen">
            <a routerLink="/admin/users" 
               routerLinkActive="active" 
               class="dropdown-item"
               (click)="closeMenu()">
              <i class="fas fa-users"></i>
              <span>Utilisateurs</span>
            </a>
            
            <a routerLink="/admin/categories" 
               routerLinkActive="active" 
               class="dropdown-item"
               (click)="closeMenu()">
              <i class="fas fa-tags"></i>
              <span>Catégories</span>
            </a>
    </div>

      <!-- Utilisateur connecté -->
      <div class="user-menu" *ngIf="isAuthenticated$ | async">
        <div class="dropdown-container">
          <button class="user-profile" 
                  (click)="toggleDropdown()" 
                  [class.active]="isDropdownOpen">
            <div class="user-avatar">
              <i class="fas fa-user"></i>
            </div>
            <span class="user-name" *ngIf="currentUser$ | async as user">
              {{ user.prenom }} {{ user.nom }}
            </span>
            <i class="fas fa-chevron-down dropdown-icon" [class.rotated]="isDropdownOpen"></i>
          </button>
          
          <div class="dropdown-menu user-dropdown" [class.show]="isDropdownOpen">
            <div class="dropdown-divider"></div>
            
            <button class="dropdown-item logout-btn" (click)="logout()">
              <i class="fas fa-sign-out-alt"></i>
              <span>Déconnexion</span>
            </button>
          </div>
        </div>
      </div>

      <!-- Menu Mobile Toggle -->
      <button class="mobile-toggle" 
              (click)="toggleMenu()" 
              [class.active]="isMenuOpen">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
  

  <!-- Mobile Menu Overlay -->
  <div class="mobile-overlay" 
       [class.active]="isMenuOpen" 
       (click)="closeMenu()">
  </div>
       </div>
    </div>
        </div>

</nav>